<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>如果与一个形状发生碰撞...</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/2_drag_and_drop_reference/collision_actions/if_collision_shape.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F2_drag_and_drop_reference%2Fcollision_actions%2Fif_collision_shape.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F2_drag_and_drop_reference%2Fcollision_actions%2Fif_collision_shape.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script><!-- !chm2web! -->


<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2><img style="vertical-align:middle" src=
"images/i_collision_shape.png"> 如果物体在...</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>描述</h3>

<blockquote>
<p>This action is used to check and see if there is a collision
with an instance of a given object within a given shaped area or
along a line. You give the shape (rectangle, ellipse or line), the
object to check for, and then supply the coordinates for the
upper-left and lower-right corners of the shape being used, or in
the case of a line, the start and end positions. These can be
absolute positions within the game room, or positions relative to
the instance performing the action. You can see how this works in
the image below:  <img class="center" src=
"images/collision_shape_example.png" alt=
"Collision Shape Example Image"></p>

<p>As you can see, the results will depend on the collision mask of
the instance being checked for, meaning the instance of the object
you are looking for <i>must</i> have a sprite assigned to the
<tt>sprite_index</tt>, or a sprite assigned to the
<tt>mask_index</tt>. If it does not then it will not be detected by
these functions, regardless of whether it is drawing a sprite or
not. It is worth noting that any instance that falls completely
within the boundaries set for the ellipse or rectangle shape will
also return a collision.</p>

<p>The action will return the keyword <tt>noone</tt> if no
collision is returned, or it will return the uniq ID value of the
instance that is found to be in collision. You can also check the
"Not" flag to check if there is <i>not</i> a collision at the given
position. Note that if multiple instances are found to be in
collision you will get returned a single ID value which could
correspond to any of the instances (but only one of them). You can
flag the target variable as a temporary (local) variable, which
means that the action will create this variable to hold the return
value until the end of the event.</p>

<p>Note that to add actions into an "if" block, they should be
dropped to the <i>side</i> of the action, as shown in the image
below:  <img class="center" src="images/if_collision_shape.png" alt=
"If Collision Shape Example"></p>
</blockquote>

<p><br>
</p>

<h3>动作语法：</h3>
<img class="center" src="images/a_collision_shape.png" alt=
"If Collision Shape At Syntax">
<p><br>
</p>

<h3>参数：</h3>

<blockquote>
<table>
<tr>
<th>参数</th>
<th>描述</th>
</tr>

<tr>
<td>形状</td>
<td>The shape to use</td>
</tr>

<tr class="alt">
<td>物体</td>
<td>The object to check for instances of</td>
</tr>

<tr>
<td>x1</td>
<td>The x position to start from</td>
</tr>

<tr class="alt">
<td>y1</td>
<td>The y position to start from</td>
</tr>

<tr>
<td>x2</td>
<td>The x position to end at</td>
</tr>

<tr class="alt">
<td>y2</td>
<td>The y position to end at</td>
</tr>

<tr>
<td>目标变量</td>
<td>The variable to target for the return value of the action</td>
</tr>
</table>
</blockquote>

<p><br>
</p>

<h3>举例：</h3>
<img class="center" src="images/e_collision_shape.png" alt=
"If Collision Shape Example">
<blockquote>The above action block code checks for a collision with
any instances of the object "obj_Player_Parent" along a 200px
across the calling instance. The return value of the action is
stored in a temporary (local) variable and then a check is done to
see if the returned value is an instance that exists in the room.
If it is, the instance has a value removed from an instance
variable.</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">Collision
Actions</a></div>

<div style="float:right">next: <a href="if_any_object_at.html">If
Any Object At</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2017 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
