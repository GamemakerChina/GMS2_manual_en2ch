<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="在线文档、网络联机帮助、web 帮助、chm2w" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>audio_free_play_queue</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/audio/audio_free_play_queue.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Faudio%2Faudio_free_play_queue.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Faudio%2Faudio_free_play_queue.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script><!-- !chm2web! -->


<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>audio_free_play_queue</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>描述</h3>

<blockquote>
<p>This function is used to free up the memory associated with the
given audio queue. The queue index is the value returned when you
created the queue using the function <a href=
"audio_create_play_queue.html"><tt>audio_create_play_queue()</tt></a>,
and this function should be called when the queue is no longer
required to prevent memory leaks. Freeing the queue will stop any
sound that is be playing, and you cannot delete the buffer that a
sound is being streamed from until the queue it is assigned to has
been freed. This function will trigger an <a href=
"../../../2_interface/1_editors/events/async_events.html">Audio
Playback Asynchronous Event</a>, and in this event a special
<tt>ds_map</tt> will be created in the variable <tt>async_load</tt>
with the following key/value pairs:</p>

<ul>
<li>"queue_id" - the queue that has finished playing data</li>

<li>"buffer_id" - the buffer that is no longer being played
from</li>

<li>"queue_shutdown" - this is set to 0 during normal playback and 1 when the event is received because you have freed the queue with this function. 如果将其设置为 1，你不希望排队等待任何进一步的数据。</li>
</ul>

<div class="note"><b>重要！</b>该函数在试用版（Trial License）产品中<b>不</b>可用。</div>
</blockquote>

<p><br>
</p>

<h3>语法：</h3>

<p class="code">audio_free_play_queue(queueIndex);</p>

<p><br>
</p>

<div>
<table>
<tr>
<th>参数</th>
<th>描述</th>
</tr>

<tr>
<td>queueIndex</td>
<td>The index of the queue to free.</td>
</tr>
</table>
</div>

<p><br>
</p>

<h3>返回：</h3>

<p class="code">N/A（无返回值）</p>

<p><br>
</p>

<h3>举例：</h3>

<p class="code">var q_id = async_load[?"queue_id"]; if q_id == audio_queue &nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;audio_free_play_queue(audio_queue);<br>&nbsp;&nbsp;&nbsp;buffer_delete(audio_buffer);<br>&nbsp;&nbsp;&nbsp;}<br></p>

<blockquote>
<p>The above code would go in the asynchronous Audio Playback event
and checks to see if the audio that has finished playing is from
the "audio_queue" and if it is it frees the queue and the buffer
associated with it.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">上一页:  <a href="audio%20buffers.html">Audio Buffers</a></div>

<div style="float:right">下一页: <a href=
"audio_queue_sound.html">audio_queue_sound</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2017 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
