<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="在线文档、网络联机帮助、web 帮助、chm2w" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>steam_ugc_request_item_details</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/steam api/user generated content/steam_ugc_request_item_details.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsteam%20api%2Fuser%20generated%20content%2Fsteam_ugc_request_item_details.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsteam%20api%2Fuser%20generated%20content%2Fsteam_ugc_request_item_details.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script><!-- !chm2web! -->


<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>steam_ugc_request_item_details</h2>

<div class="body-scroll">
<h3 class="studio">语法：</h3>

<p class="code">steam_ugc_request_item_details(published_file_id,
max_age_seconds);</p>

<p><br>
</p>

<div class="param">
<table>
<tr>
<th>参数</th>
<th>描述</th>
</tr>

<tr>
<td>published_file_id</td>
<td>The unique file ID for the UGC to be checked.</td>
</tr>

<tr class="alt">
<td>max_age_seconds</td>
<td>The "age" of the data to check (recommended 30 - 60
seconds).</td>
</tr>
</table>
</div>

<p><br>
</p>

<p><b>Returns:</b> Async ID</p>

<p><br>
</p>

<h3 class="studio">描述</h3>

<p>This function can be used to retrieve information about a given
file ID. You give the file ID and supply a maximum age for checking
(see the Steam docs for more information), then the function
returns a unique async ID value which can be used to check the
details correctly in the Steam Async event. This event will have
the <tt>async_load</tt> DS map which will be populated with the
following key/value pairs:</p>

<blockquote>
<ol>
<li>"<b>id</b>" - 触发事件的函数返回的异步 ID</li>

<li style="list-style: none"><br>
</li>

<li>"<b>result</b>" - 操作的结果（实际值）。这将是 GML 常量 <tt>ugc_result_success</tt> 或其他一些实数。So you should check for this constant to ensure that the call was successful, and if otherwise somthing has not worked correctly. 返回的其余可能值显示为 Steam “EResult” 值的结果，你应该在 SDK 头文件 <tt>steamclientpublic.h</tt> 中看到所有 89 个可能值。</li>

<li style="list-style: none"><br>
</li>

<li>"<b>event_type</b>" - The string "<b>ugc_item_details</b>"</li>

<li style="list-style: none"><br>
</li>

<li>"<b>cached_data</b>" - Will be <tt>true</tt> if the returned
details are from the local cache or <tt>false</tt> if they are
taken from the server</li>

<li style="list-style: none"><br>
</li>

<li>"<b>published_file_id"</b>" -Holds the unique published file id
for the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>file_type</b>" - The type of file used</li>

<li style="list-style: none"><br>
</li>

<li>"<b>creator_app_id</b>" - The Steam ID of the item creator</li>

<li style="list-style: none"><br>
</li>

<li>"<b>consumer_app_id</b>" - The Steam ID of the item
consumer</li>

<li style="list-style: none"><br>
</li>

<li>"<b>title</b>" - The title of the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>description</b>" - The description of the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>steam_id_owner</b>" - The Steam ID of the item owner</li>

<li style="list-style: none"><br>
</li>

<li>"<b>time_created</b>" - The time the item was first
created</li>

<li style="list-style: none"><br>
</li>

<li>"<b>time_updated</b>" - The last time the item was updated</li>

<li style="list-style: none"><br>
</li>

<li>"<b>time_added_to_user_list</b>" - The time that the item was
subscribed to</li>

<li style="list-style: none"><br>
</li>

<li>"<b>visibility</b>" - The visibility of the item (see <a href=
"steam_ugc_set_item_visibility.html"><tt>steam_ugc_set_item_visibility()</tt></a>
for the returned constants)</li>

<li style="list-style: none"><br>
</li>

<li>"<b>banned</b>" - Whether the item has been banned
(<tt>true</tt>) or not (<tt>false</tt>)</li>

<li style="list-style: none"><br>
</li>

<li>"<b>accepted_for_use</b>" - Whether the item has been accepted
for use (<tt>true</tt>) or not (<tt>false</tt>)</li>

<li style="list-style: none"><br>
</li>

<li>"<b>tags_truncated</b>" - Short version of the tags as an
array</li>

<li style="list-style: none"><br>
</li>

<li>"<b>tags</b>" - An array of the tags for the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>handle_file</b>" - The unique file handle for the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>handle_preview_file</b>" - The unique handle for the image
preview for the item (can be used as an argument with <a href=
"steam_ugc_download.html"><tt>steam_ugc_download()</tt></a> to
download a preview image)</li>

<li style="list-style: none"><br>
</li>

<li>"<b>filename</b>" - The name of the item file</li>

<li style="list-style: none"><br>
</li>

<li>"<b>file_size</b>" - The size of the item file</li>

<li style="list-style: none"><br>
</li>

<li>"<b>preview_file_size</b>" - The size of the preview image</li>

<li style="list-style: none"><br>
</li>

<li>"<b>url</b>" - The full URL for the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>votes_up</b>" - The number of up-votes received</li>

<li style="list-style: none"><br>
</li>

<li>"<b>votes_down</b>" - The number of down-votes received</li>

<li style="list-style: none"><br>
</li>

<li>"<b>score</b>" - The overall score of the item</li>

<li style="list-style: none"><br>
</li>

<li>"<b>account_id_owner</b>" - The account ID from the Steam ID
owner (this can be used in the function <a href=
"steam_ugc_create_query_user_ex.html"><tt>steam_ugc_create_query_user_ex()</tt></a>)</li>

<li style="list-style: none"><br>
</li>
</ol>
</blockquote>

<p><br>
</p>

<h3 class="studio">Extended 举例：</h3>

<p>In this example we send off a details request for an item and
then parse the resulting <tt>async_load</tt> DS map to set some
variables. First we send of the request:</p>

<p class="code">steam_details =
steam_ugc_request_item_details(global.fileID, 60);<br></p>

<p>The above code will request details on the item with the file ID
stored in the global variable and will trigger a Steam Async event
with the returned information. In this event we can then parse the
map and store some of the values in variables which can then be
used to display the information to the user:</p>

<p class="code">var map_id = async_load[?"id"];<br>var result = async_load[?"result"];<br>if (map_id == steam_details) &amp;&amp; (result == ugc_result_success)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;mTitle = async_load[?"title"];<br>&nbsp;&nbsp;&nbsp;mDesc = async_load[?"description"];<br>&nbsp;&nbsp;&nbsp;mTags = async_load[?"tags"];<br>&nbsp;&nbsp;&nbsp;m_hPreviewFile = async_load[?"handle_preview_file"];<br>&nbsp;&nbsp;&nbsp;m_hOwnerSteamId = async_load[?"steam_id_owner"];<br>&nbsp;&nbsp;&nbsp;mOwnerAccountId = async_load[?"account_id_owner"];<br>&nbsp;&nbsp;&nbsp;mPubFileId = async_load[?"published_file_id"];<br>&nbsp;&nbsp;&nbsp;mScore = async_load[?"score"];<br>&nbsp;&nbsp;&nbsp;}<br></p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">上一页:  <a href="index.html">Steam API - User Generated Content</a></div>

<div style="float:right">下一页: <a href=
"steam_ugc_create_query_user.html">steam_ugc_create_query_user</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2017 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
