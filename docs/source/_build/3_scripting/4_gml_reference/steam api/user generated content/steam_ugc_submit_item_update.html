<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="在线文档、网络联机帮助、web 帮助、chm2w" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>steam_ugc_submit_item_update</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/steam api/user generated content/steam_ugc_submit_item_update.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsteam%20api%2Fuser%20generated%20content%2Fsteam_ugc_submit_item_update.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsteam%20api%2Fuser%20generated%20content%2Fsteam_ugc_submit_item_update.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script><!-- !chm2web! -->


<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>steam_ugc_submit_item_update</h2>

<div class="body-scroll">
<h3 class="studio">语法：</h3>

<p class="code">steam_ugc_submit_item_update(ugc_update_handle,
change_note);</p>

<p><br>
</p>

<div class="param">
<table>
<tr>
<th>参数</th>
<th>描述</th>
</tr>

<tr>
<td>ugc_update_handle</td>
<td>The unique handle for the UGC to be updated.</td>
</tr>

<tr class="alt">
<td>change_note</td>
<td>The change notes (a string) to be used for the item.</td>
</tr>
</table>
</div>

<p><br>
</p>

<p><b>Returns:</b> Async ID</p>

<p><br>
</p>

<h3 class="studio">描述</h3>

<p>This function will submit the UGC item inexed by the given
handle to the Steam Workshop servers, adding the change notes to be
used for the given item. The change notes should be a string and
the update handle is the value returned when you called the
function <a href=
"steam_ugc_start_item_update.html"><tt>steam_ugc_start_item_update</tt></a>.
When using this function it will return an async ID value which can
then be parsed when the <a href=
"../../../../2_interface/1_editors/events/async_events.html">Steam
Asynchronous</a> event is triggered to report the creation of the
item. The event will contain the following key/map values in the
<tt>async_load</tt> ds_map:</p>

<blockquote>
<ol>
<li>"<b>id</b>" - The async ID returned by the calling
function</li>

<li style="list-style: none"><br>
</li>

<li>"<b>result</b>" - 操作的结果（实际值）。这将是 GML 常量 <tt>ugc_result_success</tt> 或其他一些实数。So you should check for this constant to ensure that the call was successful, and if otherwise somthing has not worked correctly. 返回的其余可能值显示为 Steam “EResult” 值的结果，你应该在 SDK 头文件 <tt>steamclientpublic.h</tt> 中看到所有 89 个可能值。</li>

<li style="list-style: none"><br>
</li>

<li>"<b>event_type</b>" - This key will hold the value
"<b>ugc_update_item</b>"</li>

<li style="list-style: none"><br>
</li>

<li>"<b>legal_agreement_required</b>" - Will be <tt>true</tt> or
<tt>false</tt> (see the <a href=
"https://partner.steamgames.com/documentation/ugc#Legal" target=
"_blank">Steam docs</a> for more details)</li>

<li style="list-style: none"><br>
</li>
</ol>
</blockquote>

<p><br>
</p>

<h3 class="studio">举例：</h3>

<p class="code">var app_id = steam_get_app_id();<br>
var updateHandle = steam_ugc_start_item_update(app_id,
global.Publish_ID);<br>
steam_ugc_set_item_title(updateHandle, "My workshop item(3)!");<br>
steam_ugc_set_item_description( updateHandle, "testing
workshop...");<br>
steam_ugc_set_item_visibility(updateHandle,
ugc_visibility_public);<br>
var tagArray;<br>
tagArray[0] = "Test";<br>
tagArray[1] = "New";<br>
steam_ugc_set_item_tags(updateHandle, tagArray);<br>
steam_ugc_set_item_preview(updateHandle, "promo.jpg");<br>
steam_ugc_set_item_content(updateHandle, "WorkshopContent1");<br>
requestId = steam_ugc_submit_item_update(updateHandle, "Version
1.2");<br></p>

<p>The above code gets the game ID, then uses that along with a
previously stored published file ID to generate an update handle
for the item. This handle is then used to update various pieces of
information before the update is pushed to the Workshop
servers.</p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">上一页:  <a href="index.html">Steam API - User Generated Content</a></div>

<div style="float:right">下一页: <a href=
"steam_ugc_get_item_update_progress.html">steam_ugc_get_item_update_progress</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2017 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
