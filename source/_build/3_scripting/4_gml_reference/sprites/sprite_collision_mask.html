<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>sprite_collision_mask</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/sprites/sprite_collision_mask.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsprites%2Fsprite_collision_mask.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fsprites%2Fsprite_collision_mask.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>sprite_collision_mask</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">sprite_collision_mask(ind, sepmasks, bboxmode,
bbleft, bbtop, bbright, bbbottom, kind, tolerance);</p>

<blockquote>
<div>
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>ind</td>
<td>The index of the sprite to set the bounding box of.</td>
</tr>

<tr class="alt">
<td>sepmasks</td>
<td>Whether to create collision masks for each sub-image of the
sprite (<tt>true</tt>), or one mask for all (<tt>false</tt>).</td>
</tr>

<tr>
<td>bboxmode</td>
<td>What kind of bounding box to use. 0 = automatic, 1 = full
image, 2 = user defined.</td>
</tr>

<tr class="alt">
<td>bbleft</td>
<td>The maximum left position of the bounding box.</td>
</tr>

<tr>
<td>bbtop</td>
<td>The maximum top position of the bounding box.</td>
</tr>

<tr class="alt">
<td>bbright</td>
<td>The maximum right position of the bounding box.</td>
</tr>

<tr>
<td>bbbottom</td>
<td>The maximum bottom position of the bounding box.</td>
</tr>

<tr class="alt">
<td>kind</td>
<td>The kind of mask, a constant (see the table in the
description).</td>
</tr>

<tr>
<td>tolerance</td>
<td>Indicates the tolerance in the transparency value (0=no
tolerance, 255=full tolerance).</td>
</tr>
</table>
</div>
</blockquote>

<p><br>
</p>

<h3>Returns</h3>

<p class="code">N/A</p>

<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>With this function you can set the properties of the collision
mask that a sprite should have. If you select either automatic (0)
or full image (1) as the bounding box mode then the individual
bounding box values can be set to 0. However for a user defined
mask (2) you will have to set these values. The different bounding
box values are always relative to the top left corner of the sprite
(irrespective of the x and y origin) which is considered position
(0, 0).</p>

<p>Setting the kind of mask sets the general shape for the mask
itself, but note that anything other than a rectangular mask will
require more processing power when resolving collisions, with a
subsequent drop in performance. In general, you should only use
mask types other than rectangular when absolutely necessary.</p>

<div class="note"><b>NOTE</b>: This function does not permit the
<b>rotated rectangle</b> collision mask kind.</div>

<p><br>
The kind of mask that can be set will be one of the following
constants:</p>

<div class="compat">
<table>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>

<tr>
<td><tt>bboxkind_rectangular</tt>
</td>
<td>A rectangular (non-rotating) rectangle collision mask
shape</td>
</tr>

<tr class="alt">
<td><tt>bboxkind_ellipse</tt>
</td>
<td>An elliptical collision mask shape</td>
</tr>

<tr>
<td><tt>bboxkind_diamond</tt>
</td>
<td>A diamond collision mask shape</td>
</tr>

<tr>
<td><tt>bboxkind_precise</tt>
</td>
<td>A precise collision mask, where the mask will conform to the
non-transparent pixels of the sprite, based on the tolerance value
given (see below))</td>
</tr>
</table>
</div>

<p>Finally, tolerance is used to define how precise the precise the
mask is (when used with a "full image" mask, this will have no
effect), with a tolerance of 0 meaning that the mask will follow
every single pixel that has a transparency over 0, while other
values will shift the collision mask perimeter depending on the
transparency of the pixels.</p>

<div class="note"><b>NOTE:</b> This function is only useful for
<b>bitmap</b> sprites and will not work with SWF or JSON (Spine)
sprites.</div>

<div class="note"><b>NOTE:</b> This function will only work on
duplicated sprites and <b>not</b> directly on pre-made resources.
you can duplicate sprites using the function <a href=
"sprite_duplicate.html"><tt>sprite_duplicate</tt></a>.</div>
</blockquote>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">spr = sprite_add("player_5.png", 16, true, true, 0,
0);<br>
sprite_collision_mask(spr, true, 1, 0, 0, 0, 0, 0, 0);<br></p>

<blockquote>
<p>The above code loads a sprite from an external source and stores
the new index in the variable "spr". The code then sets the new
sprite to have a precise collision mask for each of its
sub-images.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href=
"index.html">Sprites</a></div>

<div style="float:right">Next: <a href=
"sprite_set_offset.html">sprite_set_offset</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
