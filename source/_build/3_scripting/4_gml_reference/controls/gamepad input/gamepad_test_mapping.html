<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>gamepad_test_mapping</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/controls/gamepad input/gamepad_test_mapping.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fcontrols%2Fgamepad%20input%2Fgamepad_test_mapping.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fcontrols%2Fgamepad%20input%2Fgamepad_test_mapping.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>gamepad_test_mapping</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>This function can be used to set the gamepad mapping on those
targets that permit it. You supply the "slot" index for the gamepad
to set, and then the map string, which should have been created
using the SDL format with the following fields:</p>

<p class="code">
&lt;guid&gt;,&lt;description&gt;,platform:&lt;platform-name&gt;,&lt;bindings&gt;</p>

<p>The details that should be included in each of these fields
are:</p>

<ul>
<li><tt>guid</tt> - a string of digits and letters that uniquely
identifies a device type (this can be retrieved using the <a href=
"gamepad_get_guid.html"><tt>gamepad_get_guid()</tt></a>
function)</li>

<li style="list-style: none"><br>
</li>

<li><tt>description</tt> - an Ascii description of the device (this
can be retrieved using the <a href=
"gamepad_get_description.html"><tt>gamepad_get_description()</tt></a>
function)</li>

<li style="list-style: none"><br>
</li>

<li><tt>platform-name</tt> - will be either "platform:android",
"platform:windows", "linux", or "mac" (note that <b>this will be
appended automatically onto the string when you call this
function</b>, and so you do not need to supply it when constructing
your own mapping strings)</li>

<li style="list-style: none"><br>
</li>

<li><tt>bindings</tt> - a set of entries separated by a ',' to bind
actual input to specific GML constants</li>

<li style="list-style: none"><br>
</li>
</ul>

<p>The comma separated list of entries follows a specific format
for each entry:</p>

<p class="code">&lt;abstract-gp-name&gt;:&lt;value-binding&gt;</p>

<p>Here <tt>&lt;value-binding&gt;</tt> (ie: the direct gamepad
input) can be any one of the following:</p>

<ul>
<li><tt>a&lt;N&gt;</tt> - This represents an axis of the gamepad,
where the &lt;N&gt; is one of the axis from 0 to <a href=
"gamepad_axis_count.html"><tt>gamepad_axis_count()</tt></a> -1</li>

<li><tt>b&lt;N&gt;</tt> - This represents a button of the gamepad,
where the &lt;N&gt; is one of the buttons from 0 to <a href=
"gamepad_button_count.html"><tt>gamepad_button_count()</tt></a>
-1</li>

<li><tt>h&lt;N&gt;.&lt;mask&gt;</tt> - This represents a hat of the
gamepad, where the &lt;N&gt; represents a hat from 0 to <a href=
"gamepad_hat_count.html"><tt>gamepad_hat_count()</tt></a> -1, and
the <tt>&lt;mask&gt;</tt> will be either 1, 2, 4, or 8.</li>
</ul>

<p>Each input value should be bound to an SDL name, which is
expressed as <tt>&lt;&gt;abstract-gp-name&gt;</tt>, which in turn
is bound to a GML constant. The table below shows the equivalence
between the SDL name and the <i>GameMaker Studio 2</i>
constant:</p>

<div class="compat">
<table>
<tr>
<th>SDL Name</th>
<th>GML Name</th>
</tr>

<tr>
<td><tt>a</tt>
</td>
<td>gp_face1</td>
</tr>

<tr class="alt">
<td><tt>b</tt>
</td>
<td>gp_face2</td>
</tr>

<tr>
<td><tt>x</tt>
</td>
<td>gp_face3</td>
</tr>

<tr class="alt">
<td><tt>y</tt>
</td>
<td>gp_face4</td>
</tr>

<tr>
<td><tt>leftshoulder</tt>
</td>
<td>gp_shoulderl</td>
</tr>

<tr class="alt">
<td><tt>lefttrigger</tt>
</td>
<td>gp_shoulderlb</td>
</tr>

<tr>
<td><tt>rightshoulder</tt>
</td>
<td>gp_shoulderr</td>
</tr>

<tr class="alt">
<td><tt>righttrigger</tt>
</td>
<td>gp_shoulderrb</td>
</tr>

<tr>
<td><tt>guide</tt>
</td>
<td>gp_select</td>
</tr>

<tr class="alt">
<td><tt>start</tt>
</td>
<td>gp_start</td>
</tr>

<tr>
<td><tt>leftstick</tt>
</td>
<td>gp_stickl</td>
</tr>

<tr class="alt">
<td><tt>rightstick</tt>
</td>
<td>gp_stickr</td>
</tr>

<tr>
<td><tt>dpup</tt>
</td>
<td>gp_padu</td>
</tr>

<tr class="alt">
<td><tt>dpdown</tt>
</td>
<td>gp_padl</td>
</tr>

<tr>
<td><tt>dpleft</tt>
</td>
<td>gp_padr</td>
</tr>

<tr class="alt">
<td><tt>dpright</tt>
</td>
<td>gp_padd</td>
</tr>

<tr>
<td><tt>leftx</tt>
</td>
<td>gp_axislh</td>
</tr>

<tr class="alt">
<td><tt>lefty</tt>
</td>
<td>gp_axislv</td>
</tr>

<tr>
<td><tt>rightx</tt>
</td>
<td>gp_axisrh</td>
</tr>

<tr class="alt">
<td><tt>righty</tt>
</td>
<td>gp_axisrv</td>
</tr>
</table>
</div>

<p><br>
When you have constructed your mapping string it should look
something like this:</p>

<p class="code" style="width:auto; word-wrap:break-word;">
"050000005e040000fd020000ffff3f00,Xbox Wireless
Controller,a:b0,b:b1,start:b4,dpdown:h0.4,dpleft:h0.8,dpright:h0.2,dpup:h0.1,guide:b6,leftshoulder:b9,leftstick:b7,lefttrigger:a4,leftx:a0,lefty:a1,rightshoulder:b10,rightstick:b8,righttrigger:a5,rightx:a2,righty:a3,x:b2,y:b3,platform:android"</p>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">gamepad_test_mapping(index, mapping_string);</p>

<div class="param">
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>index</td>
<td>Which gamepad index "slot" to set.</td>
</tr>

<tr class="alt">
<td>colour</td>
<td>The map string to use (see the description for more
information).</td>
</tr>
</table>
</div>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">N/A</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">var mapping = gamepad_get_guid(global.padIndex) +
"," + gamepad_get_description(global.padIndex);<br>
var len = array_length_1d(global.PadInstances);<br>
for( i = 0; i &lt; len; i += 2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;var left = global.PadInstances[i];<br>
&nbsp;&nbsp;&nbsp;&nbsp;var right = global.PadInstances[i+1];<br>
&nbsp;&nbsp;&nbsp;&nbsp;mapping += "," + left.sdlLabel + ":" +
right.binding;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
gamepad_test_mapping(global.padIndex, mapping);<br></p>

<blockquote>
<p>The above code will loop through a number of instances and use
the values of different variables that they contain to create a
mapping string, which is then set for use on the gamepad in the
given slot index.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">GamePad
Input</a></div>

<div style="float:right">Next: <a href=
"gamepad_remove_mapping.html">gamepad_remove_mapping</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
