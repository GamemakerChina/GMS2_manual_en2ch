<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>tilemap_set_global_mask</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/rooms/tilemaps/tilemap_set_global_mask.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Frooms%2Ftilemaps%2Ftilemap_set_global_mask.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Frooms%2Ftilemaps%2Ftilemap_set_global_mask.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>tilemap_set_global_mask</h2>

<div class="body-scroll">
<h3>Description</h3>

<blockquote>This function can be used to set the <b>tile bit
mask</b> for a all tilemaps in the game. The idea is that if you
have, for example, pretty small tilesets of 16 x 16 tiles will have
a total of 256 different tiles in each tile set, which only uses up
8 bits of your index in the tile data "blob" (from an available 19
bits of data). These bits can be "masked" and then the rest of the
tile data can be used to store additional values.<br>
<br>
An easy way to get the initial index mask value is to take the
number of tiles in the tile set and subtract 1, so a 16x16 tile set
has 256 tiles and a mask value of 255 (or $ff in hexadecimal), and
if the tile set has a number of tiles that are <i>not</i> a power
of two, then round up to the nearest power of two to get the mask,
for example a tile set that is 20x20 has 400 tiles, which you would
round up to 512, and so get a mask index value of 511 ($1ff in
hexadecimal). Apart from the index mask, normally you would want to
preserve the flip, rotate and mirror values that are assigned to a
tile too, so to help with that there are a few <b>constants</b>
that can be used. These can be "or"-ed together with the index mask
value to preserve those bits of data. The following constants can
be used (see the example code below for usage):

<div class="compat">
<table>
<tr>
<th>Constant</th>
<th>Description</th>
</tr>

<tr>
<td>tile_rotate</td>
<td>Used to set/get the rotate bit of a tile data blob.</td>
</tr>

<tr class="alt">
<td>tile_mirror</td>
<td>Used to set/get the mirror bit of a tile data blob.</td>
</tr>

<tr>
<td>tile_flip</td>
<td>Used to set/get the flip bit of a tile data blob.</td>
</tr>

<tr class="alt">
<td>tile_index_mask</td>
<td>A special constant that is for "and"-ing with the tile data
blob to extract the tile index.</td>
</tr>
</table>
</div>
<br>
<br>
Tilemap bit masking is an advanced feature and allows you to use
bits of the tile data "blob" for your own use. For example, the
user could reserve a bit to mean "solid" in the tiledata structure
and then this can be checked for fast collisions. Basically, the
bit mask is "and"-ed against the tile data when the tilemap is
<i>drawn</i> (so it doesn’t affect any of the other functionality),
meaning that bits which aren't in the mask are ignored, but can
still be read and written to by the user for their own purposes.
Note that there are two different masks – a global one and one per
tilemap - and these are "and"-ed together internally by
<i>GameMaker Studio 2</i> before being used for
drawing.</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">tilemap_set_global_mask(mask)</p>

<p><br>
</p>

<h3>Arguments:</h3>

<blockquote>
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr class="alt">
<td>mask</td>
<td>The mask value to use</td>
</tr>
</table>
</blockquote>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">N/A</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">var mask = tile_mirror | tile_flip | tile_rotate |
255;<br>
tilemap_set_global_mask(mask);<br></p>

<blockquote>The above code sets the global tilemap bit mask to
8bits, preserving the flip, mirror, and rotate values for each tile
in the map.</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">Tilemap Layer
Functions</a></div>

<div style="float:right">next: <a href=
"tilemap_set_width.html">tilemap_set_width</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
