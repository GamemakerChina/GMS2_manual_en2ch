<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "10.2.18.3.0_4";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>xboxlive_stats_flush_user</title>
  <meta name="generator" content="Adobe RoboHelp 2019"/>
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"/>
  <meta name="rh-authors" content="Mark Alexander"/>
  <meta name="topic-comment" content="Reference page for xboxlive_stats_flush_user"/>
  <meta name="rh-index-keywords" content="xboxlive_stats_flush_user,achievement_stat_event"/>
  <meta name="search-keywords" content="xboxlive_stats_flush_user,achievement_stat_event"/>
</head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header" onclick="rh._.goToFullLayout()">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="xboxlive_stats_flush_user">
        <span>xboxlive_stats_flush_user</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <span>Click here to see this page in full context</span>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>xboxlive_stats_flush_user</h1>
  <p>This function can be used to flush the stats data for a given user from the statistics manager, to the live server, ensuring that the server is up to date with the current values. According to XBox documentation, developers should be careful not to
    call this too often as the XBox will rate-limit the requests, and the XBox OS will also automatically flush stats approximately every 5 minutes automatically anyway.</p>
  <p class="note"><b>NOTE</b>: Removing the user can return an error if the statistics that have been set on the user are invalid (such as the stat names containing non-alpha numeric characters).</p>
  <p>To use the function, you supply the user ID as returned by (for example) the function <a href="../Users_And_Accounts/xboxlive_get_user.htm"><tt>xboxlive_get_user()</tt></a>, and a proprity value (which will be 1 for high priority and 0 for low priority).
    The function will will return -1 if there was an error or the user ID is invalid, or any other value if the function was successfully called. The function will also generate a callback which will trigger a <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/System.htm">System Asynchronous Event</a>.
    This event will have the special DS map <span class="inline"><a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span> which should then be parsed for the following keys:</p>
  <ul class="colour">
    <li>&quot;<b>id</b>&quot; - Will hold the constant <tt>achievement_stat_event</tt></li>
    <li>&quot;<b>eventname</b>&quot; - Will hold the string &quot;<i>StatisticUpdateComplete</i>&quot;</li>
    <li>&quot;<b>userid</b>&quot; - The user ID associated with the request</li>
    <li>&quot;<b>error</b>&quot; - 0 if successful, some other value if there has been an error</li>
    <li>&quot;<b>errormessage</b>&quot; - A string with an error message, if any is available</li>
  </ul>
  <p>Note that stats will be flushed automatically for you when you remove a user from the stat manager. See <a href="xboxlive_stats_remove_user.htm"><tt>xboxlive_stats_remove_user()</tt></a> for more information.</p>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code">xboxlive_stats_flush_user(user_id, priority);</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>user_id</td>
        <td>The user ID (a pointer) to use</td>
      </tr>
      <tr>
        <td>priority</td>
        <td>The prority value (0 or 1)</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Returns:</h4>
  <p class="code">Real</p>
  <p> </p>
  <h4>Example:</h4>
  <p class="code">for(var i = 0; i &lt; array_length(user_id); ++i;)<br/>     {
    <br/>     xboxlive_stats_flush_user(user_id[i], 0);<br/>     }
  </p>
  <p>The above code loops through the stored user account IDs and then flushes the stat manager data for each user.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Stats_And_Leaderboards.htm">Stats And Leaderboards</a></div>
        <div style="float:right">Next: <a href="xboxlive_stats_set_stat_real.htm">xboxlive_stats_set_stat_real</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2021 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
xboxlive_stats_flush_user
achievement_stat_event
-->
  <!-- TAGS
xboxlive_stats_flush_user
-->

</body></html>